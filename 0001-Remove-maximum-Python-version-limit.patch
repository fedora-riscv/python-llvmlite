From 4ad14e2911329832c3fa9025a2fadc921f5bedd8 Mon Sep 17 00:00:00 2001
From: Andre Masella <andre@masella.name>
Date: Tue, 14 Mar 2023 14:55:40 -0400
Subject: [PATCH] Remove maximum Python version limit

Allow any new version of Python for llvmlite. Closes #912
---
 azure-pipelines.yml | 4 ++++
 setup.py            | 8 +++-----
 2 files changed, 7 insertions(+), 5 deletions(-)

diff --git a/azure-pipelines.yml b/azure-pipelines.yml
index 0b14f97..759187a 100644
--- a/azure-pipelines.yml
+++ b/azure-pipelines.yml
@@ -38,6 +38,10 @@ jobs:
         PYTHON: '3.10'
         CONDA_ENV: cienv
         RUN_FLAKE8: yes
+      py311:
+        PYTHON: '3.11'
+        CONDA_ENV: cienv
+        RUN_FLAKE8: yes
         RUN_CLANG_FORMAT: yes
 # temporarily disabled
 #       pypy:
diff --git a/setup.py b/setup.py
index 02b1604..2a546e6 100644
--- a/setup.py
+++ b/setup.py
@@ -33,7 +33,6 @@ except ImportError:
 
 
 min_python_version = "3.7"
-max_python_version = "3.11"  # exclusive
 
 
 def _guard_py_ver():
@@ -43,13 +42,12 @@ def _guard_py_ver():
     parse = _version_module.parse
 
     min_py = parse(min_python_version)
-    max_py = parse(max_python_version)
     cur_py = parse('.'.join(map(str, sys.version_info[:3])))
 
-    if not min_py <= cur_py < max_py:
-        msg = ('Cannot install on Python version {}; only versions >={},<{} '
+    if not min_py <= cur_py:
+        msg = ('Cannot install on Python version {}; only versions >={} '
                'are supported.')
-        raise RuntimeError(msg.format(cur_py, min_py, max_py))
+        raise RuntimeError(msg.format(cur_py, min_py))
 
 
 _guard_py_ver()
-- 
2.39.2

